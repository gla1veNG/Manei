(function(t){function e(e){for(var n,i,c=e[0],s=e[1],l=e[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={app:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Manei/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"01ed":function(t,e,r){"use strict";r("7844")},"0eb0":function(t,e,r){"use strict";r("76a9")},1425:function(t,e,r){},"149c":function(t,e,r){"use strict";r("c208")},"1a73":function(t,e,r){"use strict";r("d8e5")},"1dfe":function(t,e,r){"use strict";r("342c")},"2b80":function(t,e,r){"use strict";r.r(e);var n=r("e495"),o=r.n(n),a=r("21a1"),i=r.n(a),c=new o.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><path d="M670.955 937.173L269.44 535.637a32 32 0 01-2.09-42.965l2.09-2.283L670.933 88.832a8.533 8.533 0 016.038-2.496h66.368a8.533 8.533 0 016.037 14.57L337.28 512.982 749.397 925.1a8.533 8.533 0 01-6.037 14.57h-66.347a8.533 8.533 0 01-6.058-2.496z" /></symbol>'});i.a.add(c);e["default"]=c},"342c":function(t,e,r){},"37af":function(t,e,r){"use strict";r.r(e);var n=r("e495"),o=r.n(n),a=r("21a1"),i=r.n(a),c=new o.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><path d="M353.045 86.827L754.56 488.363a32 32 0 012.09 42.965l-2.09 2.283-401.493 401.557a8.533 8.533 0 01-6.038 2.496h-66.368a8.533 8.533 0 01-6.037-14.57L686.72 511.018 274.603 98.9a8.533 8.533 0 016.037-14.57h66.347a8.533 8.533 0 016.058 2.496z" /></symbol>'});i.a.add(c);e["default"]=c},"765c":function(t,e,r){"use strict";r.r(e);var n=r("e495"),o=r.n(n),a=r("21a1"),i=r.n(a),c=new o.a({id:"label",use:"label-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="label"><path d="M510.816 971.85c-26.485 0-50.933-9.567-68.501-27.125L166.752 669.163c-20.437-20.438-30.037-50.187-26.357-81.632 3.392-28.96 17.482-57.12 39.658-79.296L568.907 119.38a33.516 33.516 0 0124.138-9.834l372.267 4.224c18.283.202 33.045 14.997 33.216 33.29l3.403 371.446a33.59 33.59 0 01-9.846 24.064L603.243 931.424c-22.176 22.176-50.336 36.256-79.296 39.659-4.416.512-8.8.768-13.131.768zm95.616-794.954L227.573 555.755c-11.36 11.36-18.805 25.802-20.426 39.605-.747 6.4-.822 18.336 7.125 26.293l275.563 275.563c7.957 7.957 19.882 7.883 26.293 7.125 13.803-1.621 28.235-9.066 39.605-20.426l378.88-378.88-2.976-324.438-325.205-3.701z" /><path d="M302.72 910.507a33.495 33.495 0 01-23.755-9.846L52.31 674.016c-21.29-21.29-32.213-51.744-29.941-83.552 2.165-30.475 15.797-59.69 38.368-82.261l303.616-303.616c13.12-13.12 34.4-13.12 47.52 0 13.12 13.12 13.12 34.4 0 47.52L108.245 555.712c-10.976 10.976-17.845 25.376-18.848 39.51-.896 12.543 2.816 23.647 10.432 31.263l226.656 226.656c13.12 13.12 13.12 34.4 0 47.52-6.57 6.571-15.168 9.846-23.765 9.846zm388.15-368.662c-31.062 0-62.123-11.818-85.771-35.466-22.912-22.912-35.531-53.366-35.531-85.771s12.619-62.859 35.53-85.77c47.297-47.286 124.246-47.297 171.531 0s47.296 124.245 0 171.53c-23.637 23.659-54.698 35.477-85.76 35.477zm62.005-59.221zm-62.006-116.085c-13.856 0-27.701 5.269-38.25 15.818-10.219 10.219-15.84 23.798-15.84 38.251s5.632 28.032 15.84 38.25c21.088 21.089 55.413 21.089 76.501 0 21.088-21.087 21.088-55.413 0-76.5-10.55-10.54-24.405-15.82-38.25-15.82z" /></symbol>'});i.a.add(c);e["default"]=c},"76a9":function(t,e,r){},7844:function(t,e,r){},"7fa1":function(t,e,r){},"8b78":function(t,e,r){},"8ccb":function(t,e,r){"use strict";r.r(e);var n=r("e495"),o=r.n(n),a=r("21a1"),i=r.n(a),c=new o.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><path d="M1024.252 0l-209.92 23.04 69.12 69.12-227.84 278.528-236.544-218.624c-15.872-14.848-40.96-14.848-57.344-.512L14.076 465.408c-17.408 15.872-18.944 43.008-3.072 60.416 8.192 9.216 19.968 13.824 31.744 13.824 10.24 0 20.48-3.584 28.672-10.752l318.464-287.744 241.152 222.72c8.704 8.192 20.48 11.776 31.744 11.264 11.776-1.024 22.528-6.656 30.208-15.36l250.88-306.688 57.344 57.344L1024.252 0zm-890.88 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V645.12c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v348.16c0 16.896-13.824 30.72-30.72 30.72z" /><path d="M420.092 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V440.32c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v552.96c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V593.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v399.36c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V337.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v655.36c0 16.896-13.824 30.72-30.72 30.72z" /></symbol>'});i.a.add(c);e["default"]=c},9220:function(t,e,r){"use strict";r("e42e")},9371:function(t,e,r){"use strict";r("1425")},9652:function(t,e,r){"use strict";r("8b78")},a07f:function(t,e,r){},a4a2:function(t,e,r){},a675:function(t,e,r){},ae00:function(t,e,r){"use strict";r("a4a2")},b422:function(t,e,r){var n={"./label.svg":"765c","./left.svg":"2b80","./money.svg":"cf44","./right.svg":"37af","./statistics.svg":"8ccb"};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="b422"},c208:function(t,e,r){},cccf:function(t,e,r){"use strict";r("a675")},cd49:function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],i=(r("e83e"),r("2877")),c={},s=Object(i["a"])(c,o,a,!1,null,null,null),l=s.exports,u=r("9483");Object(u["a"])("/Manei/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var f=r("8c4f"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout",{attrs:{"class-prefix":"layout"}},[r("NumberPad",{on:{"update:value":t.onUpdateAmount,submit:t.saveRecord}}),r("Tabs",{attrs:{dataSource:t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}}),r("FormItem",{attrs:{"field-name":"备注",placeholder:"请在这里输入备注",value:t.record.notes},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}}),r("Tags",{on:{"update:value":function(e){t.record.tags=e}}})],1)},p=[],v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"numberPad"},[r("div",{staticClass:"output"},[t._v(t._s(t.output||" "))]),r("div",{staticClass:"buttons"},[r("button",{on:{click:t.inputContent}},[t._v("1")]),r("button",{on:{click:t.inputContent}},[t._v("2")]),r("button",{on:{click:t.inputContent}},[t._v("3")]),r("button",{on:{click:t.remove}},[t._v("刪除")]),r("button",{on:{click:t.inputContent}},[t._v("4")]),r("button",{on:{click:t.inputContent}},[t._v("5")]),r("button",{on:{click:t.inputContent}},[t._v("6")]),r("button",{on:{click:t.clear}},[t._v("清空")]),r("button",{on:{click:t.inputContent}},[t._v("7")]),r("button",{on:{click:t.inputContent}},[t._v("8")]),r("button",{on:{click:t.inputContent}},[t._v("9")]),r("button",{staticClass:"ok",on:{click:t.ok}},[t._v("OK")]),r("button",{staticClass:"zero",on:{click:t.inputContent}},[t._v("0")]),r("button",{on:{click:t.inputContent}},[t._v(".")])])])},m=[],g=r("1b40");function b(t,e,r){return e=h(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=y(t,"string");return"symbol"===typeof e?e:String(e)}function y(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var w=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let O=class extends n["a"]{constructor(...t){super(...t),b(this,"output","0")}inputContent(t){const e=t.target,r=e.textContent;16!==this.output.length&&("0"!==this.output?this.output.indexOf(".")>=0&&"."===r||(this.output+=r):"0123456789".indexOf(r)>=0?this.output=r:this.output+=r)}remove(){1===this.output.length?this.output="0":this.output=this.output.slice(0,-1)}clear(){this.output="0"}ok(){const t=parseFloat(this.output);this.$emit("update:value",t),this.$emit("submit",t),this.output="0"}};O=w([g["a"]],O);var _=O,j=_,x=(r("9371"),Object(i["a"])(j,v,m,!1,null,"c799477a",null)),T=x.exports,L=function(){var t,e=this,r=e.$createElement,n=e._self._c||r;return n("ul",{staticClass:"tabs",class:(t={},t[e.classPrefix+"-tabs"]=e.classPrefix,t)},e._l(e.dataSource,(function(t){return n("li",{key:t.value,staticClass:"tabs-item",class:e.liClass(t),on:{click:function(r){return e.select(t)}}},[e._v(e._s(t.text))])})),0)},P=[];function C(t,e,r){return e=k(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(t){var e=S(t,"string");return"symbol"===typeof e?e:String(e)}function S(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var $=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let R=class extends n["a"]{constructor(...t){super(...t),C(this,"dataSource",void 0),C(this,"value",void 0),C(this,"classPrefix",void 0)}liClass(t){return{[this.classPrefix+"-tabs-item"]:this.classPrefix,selected:t.value===this.value}}select(t){this.$emit("update:value",t.value)}};$([Object(g["b"])({required:!0,type:Array})],R.prototype,"dataSource",void 0),$([Object(g["b"])(String)],R.prototype,"value",void 0),$([Object(g["b"])(String)],R.prototype,"classPrefix",void 0),R=$([g["a"]],R);var E=R,N=E,I=(r("e520"),Object(i["a"])(N,L,P,!1,null,"718dbbbe",null)),M=I.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("label",{staticClass:"formItem"},[r("span",{staticClass:"name"},[t._v(t._s(this.fieldName))]),r("input",{attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onValueChange(e.target.value)}}})])])},D=[];function z(t,e,r){return e=A(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=Y(t,"string");return"symbol"===typeof e?e:String(e)}function Y(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var F=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let J=class extends n["a"]{constructor(...t){super(...t),z(this,"value",void 0),z(this,"fieldName",void 0),z(this,"placeholder",void 0)}onValueChange(t){this.$emit("update:value",t)}};F([Object(g["b"])({default:""})],J.prototype,"value",void 0),F([Object(g["b"])({required:!0})],J.prototype,"fieldName",void 0),F([Object(g["b"])()],J.prototype,"placeholder",void 0),J=F([g["a"]],J);var V=J,H=V,U=(r("0eb0"),Object(i["a"])(H,B,D,!1,null,"b801462c",null)),q=U.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tags"},[r("div",{staticClass:"new"},[r("button",{on:{click:t.createTag}},[t._v("新增标签")])]),r("ul",{staticClass:"current"},t._l(t.tagList,(function(e){return r("li",{key:e.id,class:{selected:t.selectedTags.indexOf(e)>=0},on:{click:function(r){return t.toggle(e)}}},[t._v(t._s(e.name))])})),0)])},G=[],Q=r("2fe1"),W=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};const X={"tag name duplicated":"标签名重复了"};let Z=class extends n["a"]{createTag(){const t=window.prompt("请输入标签名");if(!t)return window.alert("标签名不能为空");this.$store.commit("createTag",t),this.$store.state.createTagError&&this.$store.state.createTagError&&window.alert(X[this.$store.state.createTagError.message]||"未知错误")}};Z=W([Q["b"]],Z);var tt=Z;function et(t,e,r){return e=rt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rt(t){var e=nt(t,"string");return"symbol"===typeof e?e:String(e)}function nt(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ot=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let at=class extends(Object(Q["c"])(tt)){constructor(...t){super(...t),et(this,"selectedTags",[])}get tagList(){return this.$store.state.tagList}created(){this.$store.commit("fetchTags")}toggle(t){const e=this.selectedTags.indexOf(t);e>=0?this.selectedTags.splice(e,1):this.selectedTags.push(t),this.$emit("update:value",this.selectedTags)}};at=ot([g["a"]],at);var it=at,ct=it,st=(r("1dfe"),Object(i["a"])(ct,K,G,!1,null,"4dae71d0",null)),lt=st.exports,ut=Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}]);function ft(t,e,r){return e=dt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dt(t){var e=pt(t,"string");return"symbol"===typeof e?e:String(e)}function pt(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var vt=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let mt=class extends n["a"]{constructor(...t){super(...t),ft(this,"recordTypeList",ut),ft(this,"record",{tags:[],notes:"",type:"-",amount:0})}get recordList(){return this.$store.state.recordList}created(){this.$store.commit("fetchRecords")}onUpdateNotes(t){this.record.notes=t}onUpdateAmount(t){this.record.amount=parseFloat(t)}saveRecord(){if(!this.record.tags||0===this.record.tags.length)return window.alert("请至少选择一个标签");this.$store.commit("createRecord",this.record),null===this.$store.state.createRecordError&&(window.alert("已保存"),this.record.notes="")}};mt=vt([Object(g["a"])({components:{NumberPad:T,Tabs:M,FormItem:q,Tags:lt}})],mt);var gt=mt,bt=gt,ht=(r("d64f"),Object(i["a"])(bt,d,p,!1,null,null,null)),yt=ht.exports,wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout",[r("div",{staticClass:"tags"},t._l(t.tags,(function(e){return r("router-link",{key:e.id,staticClass:"tag",attrs:{to:"/labels/edit/"+e.id}},[r("span",[t._v(t._s(e.name))]),r("Icon",{attrs:{name:"right"}})],1)})),1),r("div",{staticClass:"createTag-wrapper"},[r("Button",{staticClass:"createTag",on:{click:t.createTag}},[t._v("新建标签")])],1)])},Ot=[],_t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"button",on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)},jt=[],xt={},Tt=xt,Lt=(r("1a73"),Object(i["a"])(Tt,_t,jt,!1,null,"133fd18e",null)),Pt=Lt.exports,Ct=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let kt=class extends(Object(Q["c"])(tt)){get tags(){return this.$store.state.tagList}beforeCreate(){this.$store.commit("fetchTags")}};kt=Ct([Object(g["a"])({components:{Button:Pt}})],kt);var St=kt,$t=St,Rt=(r("9652"),Object(i["a"])($t,wt,Ot,!1,null,"7da05c65",null)),Et=Rt.exports,Nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout",[r("Tabs",{attrs:{classPrefix:"type",dataSource:t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),t.groupedList.length>0?r("ol",t._l(t.groupedList,(function(e,n){return r("li",{key:n},[r("h3",{staticClass:"title"},[t._v(" "+t._s(t.beautify(e.title))+" "),r("span",[t._v("￥"+t._s(e.total))])]),r("ol",t._l(e.items,(function(e){return r("li",{key:e.id,staticClass:"record"},[r("span",[t._v(t._s(t.tagstring(e.tags)))]),r("span",{staticClass:"notes"},[t._v(t._s(e.notes))]),r("span",[t._v("￥"+t._s(e.amount))])])})),0)])})),0):r("div",{staticClass:"noResult"},[t._v("目前没有相关记录!")])],1)},It=[],Mt=r("5a0c"),Bt=r.n(Mt);function Dt(t){return JSON.parse(JSON.stringify(t))}var zt=Dt;function At(t,e,r){return e=Yt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yt(t){var e=Ft(t,"string");return"symbol"===typeof e?e:String(e)}function Ft(t,e){if("object"!==typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Jt=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let Vt=class extends n["a"]{constructor(...t){super(...t),At(this,"type","-"),At(this,"recordTypeList",ut)}tagstring(t){return 0===t.length?"无":t.map(t=>t.name).join("，")}beautify(t){const e=Bt()(t),r=Bt()();return e.isSame(r,"day")?"今天":e.isSame(r.subtract(1,"day"),"day")?"昨天":e.isSame(r.subtract(2,"day"),"day")?"前天":e.isSame(r,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}get recordList(){return this.$store.state.recordList}get groupedList(){const{recordList:t}=this,e=zt(t).filter(t=>t.type===this.type).sort((t,e)=>Bt()(e.createdAt).valueOf()-Bt()(t.createdAt).valueOf());if(0===e.length)return[];const r=[{title:Bt()(e[0].createdAt).format("YYYY-MM-DD"),items:[e[0]]}];for(let n=1;n<e.length;n++){const t=e[n],o=r[r.length-1];Bt()(o.title).isSame(Bt()(t.createdAt),"day")?o.items.push(t):r.push({title:Bt()(t.createdAt).format("YYYY-MM-DD"),items:[t]})}return r.map(t=>{t.total=t.items.reduce((t,e)=>t+e.amount,0)}),r}beforeCreate(){this.$store.commit("fetchRecords")}};Vt=Jt([Object(g["a"])({components:{Tabs:M}})],Vt);var Ht=Vt,Ut=Ht,qt=(r("149c"),Object(i["a"])(Ut,Nt,It,!1,null,"897e14c6",null)),Kt=qt.exports,Gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("layout",[r("div",{staticClass:"navBar"},[r("Icon",{staticClass:"leftIcon",attrs:{name:"left"},on:{click:t.goBack}}),r("span",{staticClass:"title"},[t._v("编辑标签")]),r("span",{staticClass:"rightIcon"})],1),r("div",{staticClass:"form-wrapper"},[r("FormItem",{attrs:{value:t.currentTag.name,"field-name":"标签名",placeholder:"请输入标签名"},on:{"update:value":t.update}})],1),r("div",{staticClass:"button-wrapper"},[r("Button",{on:{click:t.remove}},[t._v("删除标签")])],1)])},Qt=[],Wt=function(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let Xt=class extends n["a"]{get currentTag(){return this.$store.state.currentTag}created(){const t=this.$route.params.id;this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",t),this.currentTag||this.$router.replace("/404")}update(t){this.currentTag&&this.$store.commit("updateTag",{id:this.currentTag.id,name:t})}remove(){this.currentTag&&this.$store.commit("removeTag",this.currentTag.id)}goBack(){this.$router.back()}};Xt=Wt([Object(g["a"])({components:{FormItem:q,Button:Pt}})],Xt);var Zt=Xt,te=Zt,ee=(r("ae00"),Object(i["a"])(te,Gt,Qt,!1,null,"9e7210d4",null)),re=ee.exports,ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[t._v(" 当前页面存在,请检查网址是否正确,404! ")]),r("div",[r("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])},oe=[],ae={name:"NotFound"},ie=ae,ce=Object(i["a"])(ie,ne,oe,!1,null,"de595a0a",null),se=ce.exports;n["a"].use(f["a"]);const le=[{path:"/",redirect:"/money"},{path:"/money",component:yt},{path:"/labels",component:Et},{path:"/statistics",component:Kt},{path:"/labels/edit/:id",component:re},{path:"*",component:se}],ue=new f["a"]({routes:le});var fe=ue;let de=parseInt(window.localStorage.getItem("_idMax")||"0")||0;function pe(){return de++,window.localStorage.setItem("_idMax",de.toString()),de}var ve=pe,me=r("2f62");n["a"].use(me["a"]);const ge=new me["a"].Store({state:{recordList:[],tagList:[],createRecordError:null,createTagError:null,currentTag:void 0},mutations:{setCurrentTag(t,e){t.currentTag=t.tagList.filter(t=>t.id===e)[0]},updateTag(t,e){const{id:r,name:n}=e,o=t.tagList.map(t=>t.id);if(o.indexOf(r)>=0){const e=t.tagList.map(t=>t.name);if(e.indexOf(n)>=0)window.alert("标签名重复了");else{const e=t.tagList.filter(t=>t.id===r)[0];e.name=n,ge.commit("saveTags")}}},removeTag(t,e){let r=-1;for(let n=0;n<t.tagList.length;n++)if(t.tagList[n].id===e){r=n;break}r>=0?(t.tagList.splice(r,1),ge.commit("saveTags"),fe.back()):window.alert("删除失败")},fetchRecords(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},createRecord(t,e){const r=zt(e);r.createdAt=(new Date).toISOString(),t.recordList.push(r),ge.commit("saveRecords")},saveRecords(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(ge.commit("createTag","衣"),ge.commit("createTag","食"),ge.commit("createTag","住"),ge.commit("createTag","行"))},createTag(t,e){t.createTagError=null;const r=t.tagList.map(t=>t.name);if(r.indexOf(e)>=0)return window.alert("标签名重复"),void(t.createTagError=new Error("tag name duplicated"));const n=ve().toString();t.tagList.push({id:n,name:e}),ge.commit("saveTags")},saveTags(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))}}});var be=ge,he=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[r("Icon",{attrs:{name:"money"}}),t._v(" 记账 ")],1),r("router-link",{staticClass:"item",attrs:{to:"/labels","active-class":"selected"}},[r("Icon",{attrs:{name:"label"}}),t._v(" 标签 ")],1),r("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[r("Icon",{attrs:{name:"statistics"}}),t._v(" 统计 ")],1)],1)},ye=[],we={name:"Nav"},Oe=we,_e=(r("9220"),Object(i["a"])(Oe,he,ye,!1,null,"1a8b0c28",null)),je=_e.exports,xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout-wrapper"},[r("div",{staticClass:"content",class:t.classPrefix&&t.classPrefix+"-content"},[t._t("default")],2),r("Nav")],1)},Te=[],Le={props:["classPrefix"],name:"Layout"},Pe=Le,Ce=(r("01ed"),Object(i["a"])(Pe,xe,Te,!1,null,"0e6a1880",null)),ke=Ce.exports,Se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{staticClass:"icon",on:{click:function(e){return t.$emit("click",e)}}},[r("use",{attrs:{"xlink:href":"#"+t.name}})])},$e=[];let Re=t=>t.keys().forEach(t);try{Re(r("b422"))}catch(Be){console.log(Be)}var Ee={props:["name"],name:"Icon"},Ne=Ee,Ie=(r("cccf"),Object(i["a"])(Ne,Se,$e,!1,null,"3824bd98",null)),Me=Ie.exports;n["a"].config.productionTip=!1,n["a"].component("Nav",je),n["a"].component("Layout",ke),n["a"].component("Icon",Me),new n["a"]({router:fe,store:be,render:t=>t(l)}).$mount("#app"),window.onload=function(){setTimeout((function(){window.scrollTo(0,200)}),0)}},cf44:function(t,e,r){"use strict";r.r(e);var n=r("e495"),o=r.n(n),a=r("21a1"),i=r.n(a),c=new o.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" /></symbol>'});i.a.add(c);e["default"]=c},d64f:function(t,e,r){"use strict";r("7fa1")},d8e5:function(t,e,r){},e42e:function(t,e,r){},e520:function(t,e,r){"use strict";r("f874")},e83e:function(t,e,r){"use strict";r("a07f")},f874:function(t,e,r){}});
//# sourceMappingURL=app.508bbfc1.js.map